# Backend (API & Data) Specification - Project SOVEREIGNTY

**Status:** Active | **Version:** 2.0

## 1. The Unified Identity Hub
The Backend's primary role is to combine data from **PSAI (AI interactions)**, **Donor DB (financial status)**, and **Rock Ridge (CRM)** into a single, unified User object.

### 1.1 Personalization Engine
- **Combined Data Profile:** Merge interaction history (PSAI), donation tiers (Donor DB), and engagement tags (Rock Ridge CRM).
- **Personalized UX:** Tailor the website experience (content recommendations, calls to action) based on the combined profile.

## 2. Staff Backend ("The Command Center")
A dedicated management and analytics portal for EFEL staff.
- **User Management:** View and manage unified user profiles.
- **CRM Integration:** Orchestrate and monitor Rock Ridge CRM tasks and automations.
- **Analytics Engine:** Provide real-time analytics across all data sources (donations, article reach, AI usage trends).
- **Human Review Pipeline:** An interface to review, flag, and edit metadata generated by the *Index* ingestion pipeline.

## 3. Agentic Consulting Replacement
Scheduled AI agents designed to replace high-cost external consulting work.
- **SEO Agent:** Regularly researches and implements best practices for SEO (traditional search and AI-answer optimization).
- **Compliance & Best Practice Agent:** Ensures technical systems remain optimized for current standards without manual intervention.

## 4. Technical Architecture
- **Framework:** FastAPI (Python 3.12+).
- **Primary Database:** PostgreSQL 16+ (Unified Identity & *The Index*).
- **Vector DBs:** 
  - **Primary Index:** Vectorized archival and web content.
  - **Auxiliary Index:** 3rd party sources (non-published, AI-accessible only).
- **Authentication:** Unified SSO linking all EFEL assets.

## 5. Site-Wide Semantic Search
- The backend provides a unified semantic search API that allows users to find content across the entire digital ecosystem (Articles, Archives, Multimedia) using natural language.
